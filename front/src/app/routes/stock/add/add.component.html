<main>
    <h1>Ajout d'un article</h1>
    <form [formGroup]="f" (ngSubmit)="submit()">
        <label>
            <div>Nom*</div>
            <input type="text" formControlName="name" appAutofocus />
            <div>
                <ul *ngIf="!f.untouched">
                    <li *ngIf="f.controls['name'].errors?.['required']">
                        Le champ est requis
                    </li>
                    <li *ngIf="f.controls['name'].errors?.['minlength']">
                        Le nom doit contenir au moins
                        {{f.controls['name'].errors?.['minlength'].requiredLength}}
                        chara
                    </li>
                    <li *ngIf="f.controls['name'].errors?.['maxlength']">
                        Le nom doit contenir moins de quinze char
                    </li>
                </ul>
            </div>
        </label>
        <label>
            <div>Prix</div>
            <input type="number" formControlName="price" />
        </label>
        <label>
            <div>Quantit√©</div>
            <input type="number" formControlName="quantity" />
        </label>
        <!-- {{ f.value | json }} -->
        <button [disabled]="f.invalid" class="primary">
            <fa-icon
                [icon]="isAdding ? faCircleNotch : faPlus"
                [spin]="isAdding"
            ></fa-icon>
            ajouter
        </button>
    </form>
    <button routerLink="/stock" class="primary">Return</button>
</main>
